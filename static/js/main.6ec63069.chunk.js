(this["webpackJsonpslack-clone"]=this["webpackJsonpslack-clone"]||[]).push([[0],{78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},86:function(e,t,c){},87:function(e,t,c){},94:function(e,t,c){},95:function(e,t,c){},96:function(e,t,c){},97:function(e,t,c){},98:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c.n(n),s=c(30),i=c.n(s),r=(c(78),c(19)),o=(c(79),c(80),c(114)),l=c(55),j=c.n(l),d=c(54),b=c.n(d),u=c(56),h=c.n(u),O=c(3),m=Object(n.createContext)(),x=function(e){var t=e.reducer,c=e.initialState,a=e.children;return Object(O.jsx)(m.Provider,{value:Object(n.useReducer)(t,c),children:a})},p=function(){return Object(n.useContext)(m)};var v=function(){var e=p(),t=Object(r.a)(e,1)[0].user;return Object(O.jsxs)("div",{className:"header",children:[Object(O.jsxs)("div",{className:"header_left",children:[Object(O.jsx)(o.a,{className:"header_avatar",alt:null===t||void 0===t?void 0:t.displayName,src:null===t||void 0===t?void 0:t.photoURL}),Object(O.jsx)(b.a,{})]}),Object(O.jsxs)("div",{className:"header_search",children:[Object(O.jsx)(j.a,{}),Object(O.jsx)("input",{placeholder:"Search Programmer"})]}),Object(O.jsx)("div",{className:"header_right",children:Object(O.jsx)(h.a,{})})]})},f=(c(86),c(87),c(11)),g=c(33),N=g.a.initializeApp({apiKey:"AIzaSyDXZ7Oi7kBNMxcEleNwbhaCO2hssnW3r_M",authDomain:"slack-clone-ba717.firebaseapp.com",projectId:"slack-clone-ba717",storageBucket:"slack-clone-ba717.appspot.com",messagingSenderId:"425503282499",appId:"1:425503282499:web:0fb3e476f1e8bcb4948bf6",measurementId:"G-2TEFLSVH8R"}).firestore(),I=g.a.auth(),S=new g.a.auth.GoogleAuthProvider,C=N;var _=function(e){var t=e.Icon,c=e.title,n=e.id,a=e.addChannelOption,s=Object(f.f)();return Object(O.jsxs)("div",{className:"sidebarOption",onClick:a?function(){var e=prompt("Please enter the channel name");e&&C.collection("rooms").add({name:e})}:function(){n?s.push("/room/".concat(n)):s.push(c)},children:[t&&Object(O.jsx)(t,{className:"sidebarOption_icon"}),t?Object(O.jsx)("h3",{children:c}):Object(O.jsxs)("h3",{className:"sidebarOption_channel",children:[Object(O.jsx)("span",{className:"sidebarOption_hash",children:"#"})," ",c]})]})},k=c(57),w=c.n(k),y=c(58),D=c.n(y),E=c(59),F=c.n(E),P=c(60),L=c.n(P),T=c(61),R=c.n(T),A=c(62),B=c.n(A),M=c(65),U=c.n(M),G=c(63),W=c.n(G),z=c(64),J=c.n(z),V=c(66),H=c.n(V),K=c(67),X=c.n(K),Z=c(68),q=c.n(Z);var Q=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),c=t[0],a=t[1],s=p(),i=Object(r.a)(s,1)[0].user;return Object(n.useEffect)((function(){C.collection("rooms").onSnapshot((function(e){return a(e.docs.map((function(e){return{id:e.id,name:e.data().name}})))}))}),[]),Object(O.jsxs)("div",{className:"sidebar",children:[Object(O.jsxs)("div",{className:"sidebar_header",children:[Object(O.jsxs)("div",{className:"sidebar_info",children:[Object(O.jsx)("h2",{children:"Slack Clone"}),Object(O.jsxs)("h3",{children:[Object(O.jsx)(w.a,{}),null===i||void 0===i?void 0:i.displayName]})]}),Object(O.jsx)(D.a,{})]}),Object(O.jsx)(_,{Icon:F.a,title:"Threads"}),Object(O.jsx)(_,{Icon:L.a,title:"Mentions & reactions"}),Object(O.jsx)(_,{Icon:R.a,title:"Saved items"}),Object(O.jsx)(_,{Icon:B.a,title:"Channel browser"}),Object(O.jsx)(_,{Icon:W.a,title:"People & user groups"}),Object(O.jsx)(_,{Icon:J.a,title:"Apps"}),Object(O.jsx)(_,{Icon:U.a,title:"File browser"}),Object(O.jsx)(_,{Icon:H.a,title:"Show less"}),Object(O.jsx)("hr",{}),Object(O.jsx)(_,{Icon:X.a,title:"Channels"}),Object(O.jsx)("hr",{}),Object(O.jsx)(_,{Icon:q.a,addChannelOption:!0,title:"Add Channel"}),c.map((function(e){return Object(O.jsx)(_,{title:e.name,id:e.id})}))]})},Y=(c(94),c(69)),$=c.n(Y),ee=c(70),te=c.n(ee);c(95);var ce=function(e){var t=e.channelName,c=e.channelId,a=Object(n.useState)(""),s=Object(r.a)(a,2),i=s[0],o=s[1],l=p(),j=Object(r.a)(l,1)[0].user;return Object(O.jsx)("div",{className:"chatInput",children:Object(O.jsxs)("form",{children:[Object(O.jsx)("input",{value:i,onChange:function(e){return o(e.target.value)},placeholder:"Message #".concat(null===t||void 0===t?void 0:t.toLowerCase())}),Object(O.jsx)("button",{type:"submit",onClick:function(e){if(e.preventDefault(),!i)return!1;c&&C.collection("rooms").doc(c).collection("messages").add({message:i,timestamp:g.a.firestore.FieldValue.serverTimestamp(),user:j.displayName,userImage:j.photoURL}),o("")},children:"SEND"})]})})};c(96);var ne=function(e){var t=e.message,c=e.timestamp,n=e.user,a=e.userImage;return Object(O.jsxs)("div",{className:"message",children:[Object(O.jsx)("img",{src:a,alt:""}),Object(O.jsxs)("div",{className:"message_info",children:[Object(O.jsxs)("h4",{children:[n," ",Object(O.jsx)("span",{className:"message_timestamp",children:new Date(null===c||void 0===c?void 0:c.toDate()).toUTCString()})]}),Object(O.jsx)("p",{children:t})]})]})};var ae=function(){var e=Object(f.g)().roomId,t=Object(n.useState)(null),c=Object(r.a)(t,2),a=c[0],s=c[1],i=Object(n.useState)([]),o=Object(r.a)(i,2),l=o[0],j=o[1];return Object(n.useEffect)((function(){e&&C.collection("rooms").doc(e).onSnapshot((function(e){return s(e.data())})),C.collection("rooms").doc(e).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){return j(e.docs.map((function(e){return e.data()})))}))}),[e]),Object(O.jsxs)("div",{className:"chat",children:[Object(O.jsxs)("div",{className:"chat_header",children:[Object(O.jsx)("div",{className:"chat_headerLeft",children:Object(O.jsxs)("h4",{className:"chat_channelName",children:[Object(O.jsxs)("strong",{children:["#",null===a||void 0===a?void 0:a.name]}),Object(O.jsx)($.a,{})]})}),Object(O.jsx)("div",{className:"chat_headerRight",children:Object(O.jsxs)("p",{children:[Object(O.jsx)(te.a,{})," Details"]})})]}),Object(O.jsx)("div",{className:"chat_messages",children:l.map((function(e){var t=e.message,c=e.timestamp,n=e.user,a=e.userImage;return Object(O.jsx)(ne,{message:t,timestamp:c,user:n,userImage:a})}))}),Object(O.jsx)(ce,{channelName:null===a||void 0===a?void 0:a.name,channelId:e})]})},se=(c(97),c(113)),ie=c(47),re="SET_USER",oe=function(e,t){switch(t.type){case re:return Object(ie.a)(Object(ie.a)({},e),{},{user:t.user});default:return e}};var le=function(){var e=p(),t=Object(r.a)(e,2),c=(t[0],t[1]);return Object(O.jsx)("div",{className:"login",children:Object(O.jsxs)("div",{className:"login_container",children:[Object(O.jsx)("img",{src:"https://img-premium.flaticon.com/png/512/2111/2111615.png?token=exp=1622703484~hmac=ee9cdef4616e8d0000bffd51b0d02811",alt:"slack logo"}),Object(O.jsx)("h1",{children:" Sign in to Slack Clone"}),Object(O.jsx)(se.a,{onClick:function(){I.signInWithPopup(S).then((function(e){c({type:re,user:e.user})})).catch((function(e){alert(e.message)}))},children:"Sign in with Google"})]})})},je=c(39);var de=function(){var e=p(),t=Object(r.a)(e,2),c=t[0].user;return t[1],Object(O.jsx)("div",{className:"app",children:Object(O.jsx)(je.a,{children:c?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v,{}),Object(O.jsxs)("div",{className:"app_body",children:[Object(O.jsx)(Q,{}),Object(O.jsxs)(f.c,{children:[Object(O.jsx)(f.a,{path:"/room/:roomId",children:Object(O.jsx)(ae,{})}),Object(O.jsx)(f.a,{path:"/",children:Object(O.jsx)("h1",{children:"Welcome to Slack-Clone"})})]})]})]}):Object(O.jsx)(le,{})})})},be=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,115)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),s(e),i(e)}))};i.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(x,{initialState:{user:null},reducer:oe,children:Object(O.jsx)(de,{})})}),document.getElementById("root")),be()}},[[98,1,2]]]);
//# sourceMappingURL=main.6ec63069.chunk.js.map